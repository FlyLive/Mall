
@model List<Mall.Web.Front.ViewModel.GoodsInfoViewModel>

@{
    ViewBag.Title = "SearchResult";
    Layout = "~/Views/Layout/_Layout.cshtml";
}

<div class="result">
    <div class="result-list">
        @foreach (var item in Model)
        {
            <div class="result-list-item">
                <div class="item-img">
                    <a href="/Goods/Goods?goodsId=@item.GoodsId">
                        <img src="@item.GoodsPhotoUrl" />
                    </a>
                    <div class="caption">
                        <div class="caption-text">
                            <div class="item-intro">
                                作 者:@(item.Author.Length >= 9 ? item.Author.Substring(0, 8) + "…" : item.Author)
                            </div>
                            <div class="item-intro">
                                出版社:@(item.Press.Length >= 9 ? item.Press.Substring(0, 8) + "…" : item.Press)
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item-info">
                    <div class="title">
                        <a href="/Goods/Goods?goodsId=@item.GoodsId" title="@item.GoodsName">@(item.GoodsName.Length >= 8 ? item.GoodsName.Substring(0, 7) + "…" : item.GoodsName)</a>
                        <p>@item.CommentNumber 人已评价</p>
                    </div>
                    <div class="item-money">
                        ￥@item.Price&ensp;<span>￥45.00</span>
                    </div>
                    <div class="item-intro">
                        简 介:@(item.GoodsName.Length >= 12 ? item.GoodsName.Substring(0, 11) + "…" : item.GoodsName)
                    </div>
                </div>
            </div>
        }
    </div>
    <div id="div-result">
        @*@Html.PagedListPager(Model, page => Url.Action("SearchResult", new { page }))*@
    </div>
    <div id="div-result-list">
        @*@Html.PagedListPager(Model, page => Url.Action("SearchResult", new { page }))*@
    </div>
</div>

@section css{
    @Styles.Render("~/Css/Goods/SearchResult.css")
}
@section scripts{
    <script>
        ////测试数据
        //var data = [
        //    '北京',
        //    '上海',
        //    '广州',
        //    '深圳',
        //    '杭州',
        //    '长沙',
        //    '合肥',
        //    '宁夏',
        //    '成都',
        //    '西安',
        //    '南昌',
        //    '上饶',
        //    '沈阳',
        //    '济南',
        //    '厦门',
        //    '福州',
        //    '九江',
        //    '宜春',
        //    '赣州',
        //    '宁波',
        //    '绍兴',
        //    '无锡',
        //    '苏州',
        //    '徐州',
        //    '东莞',
        //    '佛山',
        //    '中山',
        //    '成都',
        //    '武汉',
        //    '青岛',
        //    '天津',
        //    '重庆',
        //    '南京',
        //    '九江',
        //    '香港',
        //    '澳门',
        //    '台北'
        //];

        //var nums = 5; //每页出现的数量
        //var pages = Math.ceil(data.length / nums); //得到总页数

        //var thisDate = function (curr) {
        //    //此处只是演示，实际场景通常是返回已经当前页已经分组好的数据
        //    var str = '', last = curr * nums - 1;
        //    last = last >= data.length ? (data.length - 1) : last;
        //    for (var i = (curr * nums - nums) ; i <= last; i++) {
        //        str += '<li>' + data[i] + '</li>';
        //    }
        //    return str;
        //};

        ////调用分页
        //laypage({
        //    cont: 'div-result-list',
        //    pages: pages,
        //    skin: 'molv', //皮肤
        //    first: 1, //将首页显示为数字1,。若不显示，设置false即可
        //    //将尾页显示为总页数。若不显示，设置false即可
        //    prev: '<', //若不显示，设置false即可
        //    next: '>', //若不显示，设置false即可
        //    jump: function (obj) {
        //        document.getElementById('div-result').innerHTML = thisDate(obj.curr);
        //    }
        //})
    </script>
}